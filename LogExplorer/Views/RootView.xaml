<views:MvxWpfView x:Class="LogExplorer.Views.RootView"
                  xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                  xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                  xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
                  xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
                  xmlns:local="clr-namespace:LogExplorer.Views"
                  xmlns:views="clr-namespace:MvvmCross.Wpf.Views;assembly=MvvmCross.Wpf"
                  mc:Ignorable="d"
                  d:DesignHeight="300" d:DesignWidth="300">

	<views:MvxWpfView.Resources>
		<DataTemplate x:Key="LogsTemplate">
			<StackPanel Margin="12"
			            Orientation="Vertical">
				<TextBlock FontSize="20"
				           Text="{Binding Name}" />
				<StackPanel Orientation="Horizontal"
				            Margin="10,4,0,0">
					<TextBlock FontSize="16"
					           Text="Result:" />
					<TextBlock FontSize="16"
					           Margin="10,0,0,0"
					           Text="{Binding Result}" />
					<TextBlock FontSize="16"
					           Text="Time:"
							   Margin="10,0,0,0"/>
					<TextBlock FontSize="16"
					           Margin="10,0,0,0"
					           Text="{Binding StartTimeString}" />
					<Button Content="Show log"
					        Command="{Binding DataContext.CmdStartProcess, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=views:MvxWpfView}}"
					        CommandParameter="{Binding LogPath}" 
							Margin="10,0,0,0"/>
					<Button Content="Show dir"
					        Command="{Binding DataContext.CmdStartProcess, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=views:MvxWpfView}}"
					        CommandParameter="{Binding DirPath}" 
							Margin="10,0,0,0"/>
				</StackPanel>
			</StackPanel>
		</DataTemplate>
	</views:MvxWpfView.Resources>
	
	<Grid>
		<Grid.RowDefinitions>
			<RowDefinition Height="*" />
			<RowDefinition Height="30" />
		</Grid.RowDefinitions>
		<Grid.ColumnDefinitions>
			<ColumnDefinition Width="*" />
			<ColumnDefinition Width="*" />
		</Grid.ColumnDefinitions>
		
		<ListBox Grid.Row="0"
				 Grid.ColumnSpan="2"
		         ItemsSource="{Binding Logs, Mode=TwoWay}"
		         ItemTemplate="{StaticResource LogsTemplate}"
		         ScrollViewer.VerticalScrollBarVisibility="Visible" />

		<Button Margin="5,5" Grid.Row="1" Grid.Column="0" Content="Settings" Command="{Binding CmdNavigateSettings}" />
		<Button Margin="5,5" Grid.Row="1" Grid.Column="1" Content="Refresh" Command="{Binding CmdRefresh}" />
	</Grid>
</views:MvxWpfView>